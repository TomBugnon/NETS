network:
  topology:
    params:
      connections:

        ### Recognized fields:
        # - 'source_layers' (list): mandatory
        # - 'target_layers' (list): mandatory
        # - 'source_population' (str or None):
        #       All populations if no key of not __bool__
        # - 'source_population' (str or None):
        #       All populations if no key of not __bool__
        # - 'nest_params' (Mapping or None):
        #       Takes precedence on connection model if specified)
        # - 'params' (Mapping or None):
        #       Takes precedence on connection model if specified


        ### Source area: input area ###

        # excitatory on l1 for each input population
        - source_layers: [input_layer]
          source_population: parrot_neuron
          target_layers: [l1, ]
          target_population: l1_exc
          connection: input_connection
          params:
            recorders:
              weight_recorder: {}
        - source_layers: [input_layer]
          source_population: parrot_neuron
          target_layers: [l1]
          target_population: l1_inh
          connection: input_connection


        ### Source area: l1 ###

        # l1 excitatory horizontal
        - source_layers: [l1]
          source_population: l1_exc
          target_layers: [l1]
          target_population: l1_exc
          connection: horizontal_exc
        - source_layers: [l1]
          source_population: l1_exc
          target_layers: [l1]
          target_population: l1_inh
          connection: horizontal_exc

        # l1 inhibitory horizontal
        - source_layers: [l1]
          source_population: l1_inh
          target_layers: [l1]
          target_population: l1_exc
          connection: horizontal_inh
        - source_layers: [l1]
          source_population: l1_inh
          target_layers: [l1]
          target_population: l1_inh
          connection: horizontal_inh

        # l1 excitatory FF
        - source_layers: [l1]
          source_population: l1_exc
          target_layers: [l2]
          target_population: l2_exc
          connection: FF_exc
        - source_layers: [l1]
          source_population: l1_exc
          target_layers: [l2]
          target_population: l2_inh
          connection: FF_exc
